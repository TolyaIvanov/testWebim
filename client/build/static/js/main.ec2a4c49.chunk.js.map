{"version":3,"sources":["reducers/login.js","reducers/friends.js","reducers/rootReducer.js","constants/defaultConstants.js","store/configureStore.js","components/Button.js","actions/actionCreator.js","actions/friends.js","actions/login.js","containers/ButtonContainer.js","components/Friends.js","containers/FriendsContainer.js","components/Main.js","index.js"],"names":["initialState","expire","mid","secret","sid","sig","user","domain","first_name","href","id","last_name","nickname","combineReducers","login","state","arguments","length","undefined","_ref","type","data","Object","objectSpread","friends","list","store","createStore","rootReducer","applyMiddleware","thunk","Button","props","react_default","a","createElement","className","onClick","children","VK","window","fetchFriends","dispatch","Api","call","count","order","fields","v","response","items","ButtonContainer","components_Button","localStorage","token","this","logoutAction","loginAction","Component","connect","loginState","friendsState","Auth","status","session","setItem","logout","removeItem","Friends","FriendsContainer","renderFriends","_this","map","listItem","key","concat","target","src","photo_100","alt","components_Friends","Main","es","containers_ButtonContainer","containers_FriendsContainer","React","ReactDOM","render","components_Main","document","getElementById"],"mappings":"+PAIMA,EAAe,CACpBC,OAAQ,EACRC,IAAK,GACLC,OAAQ,GACRC,IAAK,GACLC,IAAK,GACLC,KAAM,CACLC,OAAQ,GACRC,WAAY,GACZC,KAAM,GACNC,GAAI,GACJC,UAAW,GACXC,SAAU,KCZNZ,EAAe,GCMNa,cAAgB,CAC9BC,MFSoB,WAAwC,IAAvCC,EAAuCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BhB,EAA+BmB,EAAAH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAhBE,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,KAClD,OAAQD,GACP,IGtBsB,WHuBrB,OAAOE,OAAAC,EAAA,EAAAD,CAAA,GACHP,EACAM,GAEL,QACC,OAAON,IEhBTS,QDNsB,WAAwC,IAAvCT,EAAuCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BhB,EAA+BmB,EAAAH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAhBE,EAAgBD,EAAhBC,KAAMK,EAAUN,EAAVM,KACpD,OAAQL,GACP,IEP0B,eFQzB,OAAOK,EACR,QACC,OAAOV,MGEV,IARwBf,EAUT0B,GAVS1B,EAQK,GAPrB2B,YACNC,EACA5B,EACA6B,YAAgBC,OCEHC,EATA,SAACC,GAAD,OACdC,EAAAC,EAAAC,cAAA,OACCC,UAAW,SACXC,QAASL,EAAMK,SAEdL,EAAMM,WCFIxB,EAAQ,SAACO,GAAD,MAAW,CAC/BD,KHNuB,WGOvBC,SCHKkB,EAAKC,OAAOD,GAELE,EAAe,kBAAM,SAAAC,GACjCH,EAAGI,IAAIC,KAAK,cAAe,CAC1BC,MAAO,EACPC,MAAO,SACPC,OAAQ,CAAC,WAAY,YAAa,UAClCC,EAAG,QACD,SAAC3B,GACHqB,EDHgC,CACjCtB,KHV2B,eGW3BK,KCCkBJ,EAAK4B,SAASC,YCL3BX,EAAKC,OAAOD,GCGZY,mLAEJ,OACClB,EAAAC,EAAAC,cAACiB,EAAD,CACCf,QAASgB,aAAaC,MAAQC,KAAKvB,MAAMwB,aAAeD,KAAKvB,MAAMyB,aAElEJ,aAAaC,MAASrB,EAAAC,EAAAC,cAAA,mBAAkBF,EAAAC,EAAAC,cAAA,kCANfuB,aA6BfC,cAVS,SAAC5C,GAAD,MAAY,CACnC6C,WAAY7C,EAAMD,MAClB+C,aAAc9C,EAAMS,UAGM,SAAAkB,GAAQ,MAAK,CACvCe,YAAa,kBAAMf,ED1BW,SAAAA,GAC9BH,EAAGuB,KAAKhD,MAAM,SAAUmC,GACC,cAApBA,EAASc,SACZrB,EAAS5B,EAAMmC,EAASe,UACxBX,aAAaY,QAAQ,QAAShB,EAASe,QAAQ9D,KAE/CwC,EAASD,WCqBXe,aAAc,kBAAMd,EDhBO,SAAAA,GAC3BH,EAAGuB,KAAKI,SACRxB,EAAS5B,EAAM,KACfuC,aAAac,WAAW,cCgBVR,CAA6CR,GC7B7CiB,EATC,SAACpC,GAAD,OACfC,EAAAC,EAAAC,cAAA,OAAKC,UAAW,WACfH,EAAAC,EAAAC,cAAA,KAAGC,UAAW,qBAAd,kBACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAW,eACbJ,EAAMM,YCIJ+B,6MAeLC,cAAgB,WAGf,OAFWC,EAAKvC,MAAM6B,aAEVW,IAAI,SAAAC,GACf,OACCxC,EAAAC,EAAAC,cAAA,MACCuC,IAAKD,EAAS/D,GACd0B,UAAW,oBAEXH,EAAAC,EAAAC,cAAA,KACCC,UAAW,OACX3B,KAAI,kBAAAkE,OAAoBF,EAASlE,QACjCqE,OAAQ,UAER3C,EAAAC,EAAAC,cAAA,KAAGC,UAAW,QAASqC,EAASjE,WAAhC,IAA6CiE,EAAS9D,WACtDsB,EAAAC,EAAAC,cAAA,OAAK0C,IAAKJ,EAASK,UAAWC,IAAI,gGA5BlC1B,aAAaC,OAChBC,KAAKvB,MAAMS,gDAKZ,OAAOY,aAAaC,MACnBrB,EAAAC,EAAAC,cAAC6C,EAAD,KACEzB,KAAKe,iBAEJ,YAZyBZ,aAoDhBC,cATS,SAAC5C,GAAD,MAAY,CACnC6C,WAAY7C,EAAMD,MAClB+C,aAAc9C,EAAMS,UAGM,SAAAkB,GAAQ,MAAK,CACvCD,aAAc,kBAAMC,EAASD,QAGfkB,CAA6CU,GCvC7CY,mLAXb,OACChD,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAUxD,MAAOA,GAChBO,EAAAC,EAAAC,cAAA,OAAKC,UAAW,aACfH,EAAAC,EAAAC,cAACgD,EAAD,MACAlD,EAAAC,EAAAC,cAACiD,EAAD,eANcC,IAAM3B,iBCLzB4B,IAASC,OAAOtD,EAAAC,EAAAC,cAACqD,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ec2a4c49.chunk.js","sourcesContent":["import {\r\n\tLOGIN_VK\r\n} from \"../constants/defaultConstants\";\r\n\r\nconst initialState = {\r\n\texpire: 0,\r\n\tmid: '',\r\n\tsecret: '',\r\n\tsid: '',\r\n\tsig: '',\r\n\tuser: {\r\n\t\tdomain: '',\r\n\t\tfirst_name: '',\r\n\t\thref: '',\r\n\t\tid: '',\r\n\t\tlast_name: '',\r\n\t\tnickname: ''\r\n\t}\r\n};\r\n\r\nexport const login = (state = initialState, {type, data}) => {\r\n\tswitch (type) {\r\n\t\tcase LOGIN_VK:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...data\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tSHOW_FRIENDS\r\n} from \"../constants/defaultConstants\";\r\n\r\nconst initialState = [];\r\n\r\nexport const friends = (state = initialState, {type, list}) => {\r\n\tswitch (type) {\r\n\t\tcase SHOW_FRIENDS:\r\n\t\t\treturn list;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {combineReducers} from 'redux';\r\n\r\nimport {\r\n\tlogin\r\n} from \"./login\";\r\n\r\nimport {\r\n\tfriends\r\n} from \"./friends\";\r\n\r\nexport default combineReducers({\r\n\tlogin,\r\n\tfriends,\r\n})\r\n","export const LOGIN_VK = 'LOGIN_VK';\r\nexport const SHOW_FRIENDS = 'SHOW_FRIENDS';\r\n","import {createStore, applyMiddleware} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from '../reducers/rootReducer'\r\n\r\nfunction configureStore(initialState) {\r\n\treturn createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tapplyMiddleware(thunk),\r\n\t);\r\n}\r\n\r\nconst store = configureStore({});\r\n\r\nexport default store","import React from 'react'\r\n\r\nconst Button = (props) => (\r\n\t<div\r\n\t\tclassName={'button'}\r\n\t\tonClick={props.onClick}\r\n\t>\r\n\t\t{props.children}\r\n\t</div>\r\n);\r\n\r\nexport default Button;","import {\r\n\tSHOW_FRIENDS,\r\n\tLOGIN_VK\r\n} from \"../constants/defaultConstants\";\r\n\r\nexport const login = (data) => ({\r\n\ttype: LOGIN_VK,\r\n\tdata\r\n});\r\n\r\nexport const friends = (list) => ({\r\n\ttype: SHOW_FRIENDS,\r\n\tlist\r\n});\r\n","import {\r\n\tfriends\r\n} from \"./actionCreator\";\r\n\r\nconst VK = window.VK;\r\n\r\nexport const fetchFriends = () => dispatch => {\r\n\tVK.Api.call('friends.get', {\r\n\t\tcount: 5,\r\n\t\torder: 'random',\r\n\t\tfields: ['nickname', 'photo_100', 'domain'],\r\n\t\tv: \"5.73\"\r\n\t}, (data) => {\r\n\t\tdispatch(friends(data.response.items));\r\n\t});\r\n};\r\n","import {\r\n\tlogin,\r\n} from \"./actionCreator\";\r\n\r\nimport {\r\n\tfetchFriends\r\n} from \"./friends\";\r\n\r\nconst VK = window.VK;\r\n\r\nexport const loginUser = () => dispatch => {\r\n\tVK.Auth.login(function (response) {\r\n\t\tif (response.status === 'connected') {\r\n\t\t\tdispatch(login(response.session));\r\n\t\t\tlocalStorage.setItem('token', response.session.mid);   // put mid to localStorage token\r\n\r\n\t\t\tdispatch(fetchFriends());\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n\tVK.Auth.logout();\r\n\tdispatch(login({}));\r\n\tlocalStorage.removeItem('token');\r\n};\r\n","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from './../components/Button'\r\n\r\nimport {\r\n\tloginUser,\r\n\tlogout\r\n} from \"../actions/login\";\r\n\r\nclass ButtonContainer extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Button\r\n\t\t\t\tonClick={localStorage.token ? this.props.logoutAction : this.props.loginAction}\r\n\t\t\t>\r\n\t\t\t\t{localStorage.token ? (<p>logout</p>) : (<p>login with vk</p>)}\r\n\t\t\t</Button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nButtonContainer.propTypes = {\r\n\tloginState: PropTypes.object,\r\n\tfriendsState: PropTypes.object,\r\n\tloginAction: PropTypes.func,\r\n\tlogoutAction: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tloginState: state.login,\r\n\tfriendsState: state.friends,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tloginAction: () => dispatch(loginUser()),\r\n\tlogoutAction: () => dispatch(logout()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonContainer);\r\n","import React from 'react'\r\n\r\nconst Friends = (props) => (\r\n\t<div className={'friends'}>\r\n\t\t<p className={'friend-list-title'}>random friends</p>\r\n\t\t<ul className={'friend-list'}>\r\n\t\t\t{props.children}\r\n\t\t</ul>\r\n\t</div>\r\n);\r\n\r\nexport default Friends;\r\n","import React, {Component, Fragment} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Friends from './../components/Friends';\r\n\r\nimport {\r\n\tfetchFriends\r\n} from \"../actions/friends\";\r\n\r\nclass FriendsContainer extends Component {\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.token) {\r\n\t\t\tthis.props.fetchFriends();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn localStorage.token ? (\r\n\t\t\t<Friends>\r\n\t\t\t\t{this.renderFriends()}\r\n\t\t\t</Friends>\r\n\t\t) : null;\r\n\t}\r\n\r\n\trenderFriends = () => {\r\n\t\tlet list = this.props.friendsState;\r\n\r\n\t\treturn list.map(listItem => {\r\n\t\t\treturn (\r\n\t\t\t\t<li\r\n\t\t\t\t\tkey={listItem.id}\r\n\t\t\t\t\tclassName={'friend-list-item'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName={'link'}\r\n\t\t\t\t\t\thref={`https://vk.com/${listItem.domain}`}\r\n\t\t\t\t\t\ttarget={'_blank'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p className={'name'}>{listItem.first_name} {listItem.last_name}</p>\r\n\t\t\t\t\t\t<img src={listItem.photo_100} alt=\"ava\"/>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t\t})\r\n\t};\r\n}\r\n\r\nFriendsContainer.propTypes = {\r\n\tfriendsState: PropTypes.array,\r\n\tloginState: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tloginState: state.login,\r\n\tfriendsState: state.friends,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n\tfetchFriends: () => dispatch(fetchFriends())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FriendsContainer);\r\n","import React from 'react';\r\nimport {Provider} from 'react-redux';\r\nimport store from './../store/configureStore'\r\n\r\nimport ButtonContainer from './../containers/ButtonContainer';\r\nimport FriendsContainer from './../containers/FriendsContainer';\r\n\r\n// localStorage.removeItem('token');\r\n\r\n\r\nclass Main extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<div className={'container'}>\r\n\t\t\t\t\t<ButtonContainer/>\r\n\t\t\t\t\t<FriendsContainer/>\r\n\t\t\t\t</div>\r\n\t\t\t</Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Main from './components/Main';\r\nimport './styles/style.css'\r\n\r\nReactDOM.render(<Main/>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}