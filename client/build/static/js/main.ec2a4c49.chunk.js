(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),o=n.n(i),c=n(4),l=n(5),u=n(8),s=n(6),d=n(9),f=n(7),m=n(2),p=n(17),h=n(18),g={expire:0,mid:"",secret:"",sid:"",sig:"",user:{domain:"",first_name:"",href:"",id:"",last_name:"",nickname:""}},b=[],O=Object(m.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.data;switch(n){case"LOGIN_VK":return Object(h.a)({},e,a);default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.list;switch(n){case"SHOW_FRIENDS":return a;default:return e}}});var k,v=(k={},Object(m.d)(O,k,Object(m.a)(p.a))),j=function(e){return r.a.createElement("div",{className:"button",onClick:e.onClick},e.children)},E=function(e){return{type:"LOGIN_VK",data:e}},S=window.VK,w=function(){return function(e){S.Api.call("friends.get",{count:5,order:"random",fields:["nickname","photo_100","domain"],v:"5.73"},function(t){e({type:"SHOW_FRIENDS",list:t.response.items})})}},y=window.VK,N=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(j,{onClick:localStorage.token?this.props.logoutAction:this.props.loginAction},localStorage.token?r.a.createElement("p",null,"logout"):r.a.createElement("p",null,"login with vk"))}}]),t}(a.Component),_=Object(f.b)(function(e){return{loginState:e.login,friendsState:e.friends}},function(e){return{loginAction:function(){return e(function(e){y.Auth.login(function(t){"connected"===t.status&&(e(E(t.session)),localStorage.setItem("token",t.session.mid),e(w()))})})},logoutAction:function(){return e(function(e){y.Auth.logout(),e(E({})),localStorage.removeItem("token")})}}})(N),A=function(e){return r.a.createElement("div",{className:"friends"},r.a.createElement("p",{className:"friend-list-title"},"random friends"),r.a.createElement("ul",{className:"friend-list"},e.children))},I=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).renderFriends=function(){return n.props.friendsState.map(function(e){return r.a.createElement("li",{key:e.id,className:"friend-list-item"},r.a.createElement("a",{className:"link",href:"https://vk.com/".concat(e.domain),target:"_blank"},r.a.createElement("p",{className:"name"},e.first_name," ",e.last_name),r.a.createElement("img",{src:e.photo_100,alt:"ava"})))})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){localStorage.token&&this.props.fetchFriends()}},{key:"render",value:function(){return localStorage.token?r.a.createElement(A,null,this.renderFriends()):null}}]),t}(a.Component),C=Object(f.b)(function(e){return{loginState:e.login,friendsState:e.friends}},function(e){return{fetchFriends:function(){return e(w())}}})(I),F=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{store:v},r.a.createElement("div",{className:"container"},r.a.createElement(_,null),r.a.createElement(C,null)))}}]),t}(r.a.Component);n(28);o.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.ec2a4c49.chunk.js.map